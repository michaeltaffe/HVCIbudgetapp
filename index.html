<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Balancing the Clock and the Wallet</title>
<link rel="stylesheet" href="https://unpkg.com/lucide-static@latest/font/lucide.css">
<style>
:root {
  --bg:#f7f6f2; --card:#fff; --ink:#16181d;
  --muted:#5f6b76; --ok:#2e7d32; --warn:#f9a825; --bad:#c62828;
  --track:#e9edf1; --shadow:0 6px 22px rgba(0,0,0,.08);
  --subtle:#eef1f5; --accent:#0066cc;
}
*{box-sizing:border-box}
body{margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;background:var(--bg);color:var(--ink)}
.wrap{max-width:480px;margin:16px auto 100px;padding:0 12px}
.card{background:var(--card);border-radius:16px;padding:16px;box-shadow:var(--shadow);margin-bottom:14px}
h1,h2,h3{margin:0 0 10px}
.subtitle{color:var(--muted);font-size:13px}
.pill{display:inline-block;padding:3px 8px;border-radius:999px;background:var(--subtle);color:#3b4046;font-size:11px;margin-left:6px}

/* Segmented controls */
.controls{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-top:10px;flex-wrap:wrap}
.segmented{display:inline-flex;background:var(--subtle);border-radius:12px;padding:3px;gap:3px}
.segmented button{
  appearance:none;border:0;background:transparent;
  padding:6px 10px;border-radius:10px;font-weight:600;color:#3b4046;cursor:pointer;
  transition:background .25s;font-size:13px
}
.segmented button.active{background:#fff;color:#000;box-shadow:0 2px 6px rgba(0,0,0,.08)}
.view-note{font-size:11px;color:var(--muted)}

/* Bars */
.bars{display:grid;grid-template-columns:1fr;gap:14px}
.bar-wrap{display:flex;flex-direction:column;gap:4px}
.label{color:#1e2328;font-weight:600;font-size:13px}
.bar{height:20px;background:var(--track);border-radius:8px;position:relative;overflow:hidden;cursor:pointer}
.fill{height:100%;border-radius:8px;transition:width .35s ease, background .35s ease}
.pct{position:absolute;right:6px;top:50%;transform:translateY(-50%);font-size:11px;font-weight:700;color:#111;text-shadow:0 1px 0 rgba(255,255,255,.9)}
.pct.invert{color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.5)}
.hint{
  position:absolute;left:0;bottom:130%;
  background:#111;color:#fff;font-size:11px;
  padding:5px 8px;border-radius:6px;
  box-shadow:0 6px 14px rgba(0,0,0,.2);
  opacity:0;transform:translateY(6px);
  transition:opacity .2s, transform .2s;
  white-space:nowrap;pointer-events:none
}
.bar:hover .hint{opacity:1;transform:translateY(0)}

/* Context panel */
.context{background:var(--subtle);border-radius:12px;padding:12px 14px;font-size:13px;margin-bottom:12px}
.context a{color:var(--accent);font-weight:600;cursor:pointer;text-decoration:none}
.context-detail{display:none;font-size:12px;color:var(--muted);margin-top:5px;line-height:1.4}

/* Event list */
.events .row{display:flex;justify-content:space-between;align-items:center;background:var(--subtle);padding:8px 10px;border-radius:10px;margin:6px 0;font-size:13px}
.events .title{font-weight:600}
.events .amt{font-weight:700}

/* Footer icons */
.footer{position:fixed;left:0;right:0;bottom:0;background:#fff;border-top:1px solid #e6e6ea;padding:12px 16px;box-shadow:0 -3px 15px rgba(0,0,0,.05)}
.chips{display:flex;gap:14px;justify-content:center}
.chip{
  width:52px;height:52px;border:2px solid #f28e1c;border-radius:14px;opacity:.95;
  display:flex;align-items:center;justify-content:center;
  transition:background .2s, transform .2s
}
.chip.active{background:#f28e1c;color:#fff;transform:scale(1.05)}
.chip i{font-size:22px;color:#f28e1c}
.chip.active i{color:#fff}
</style>
</head>
<body>
<div class="wrap">
  <!-- Header -->
  <div class="card" id="summary">
    <h1>Time–Budget Dashboard <span class="pill">Demo</span></h1>
    <div class="subtitle" id="summaryText">Loading summary...</div>

    <div class="controls">
      <div class="segmented" role="tablist" aria-label="Dashboard view">
        <button id="btn-day" role="tab" aria-selected="false">Day</button>
        <button id="btn-week" role="tab" aria-selected="false">Week</button>
        <button id="btn-month" class="active" role="tab" aria-selected="true">Month</button>
      </div>
      <div id="viewNote" class="view-note">(Month view)</div>
    </div>
  </div>

  <!-- Context Panel -->
  <div class="context">
    You’ve reached <b>85%</b> of your dining budget. <a id="whyLink
